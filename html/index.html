<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MQTT</title>
  <link rel="stylesheet" href="..\css/style.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>

  <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
  <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
</head>

<body>
  <div>
    <h1>Ejemplo MQTT</h1>
  </div>
  <div>
    <h2>Temperatura</h2>
  </div>
  <div>
    <p>Valor (en ÂºC): </p>
    <a id="ValorTemp"></a>

    <div id="chartdiv"></div>
    <!-- Revisar si puedo hacerlo con p -->
  </div>

  <div>
    <h2>Relay</h2>
  </div>
  <div>
    <p>Valor (1 o 0): </p>
    <a id="ValorRelay"></a> <!-- Revisar si puedo hacerlo con p -->
  </div>
  <div>
    <p>Cambiar el estado del Relay</p>
    <button onclick="changeRelay()">Cambiar</button>
  </div>

  <script src="..\js/gauge.js"></script>
  <script src="..\js/iot-mqtt.js"></script>
</body>

</html>

<script> function changeRelay() {
    var EstadoRelay = '1';
    if (EstadoRelay == '1') {
      client.send('Relay', '0');
      EstadoRelay = 0;
    }
    if (EstadoRelay == '0') {
      client.send('Relay', '1');
      EstadoRelay = 1;
    }
  }</script>